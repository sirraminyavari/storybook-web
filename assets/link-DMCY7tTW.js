import{g as be}from"./_commonjsHelpers-Cpj98o6Y.js";import{r as he,a as ve,b as ye,c as me,d as ge,e as _e,f as Re,g as ke,h as Me,i as Le}from"./add-base-path-BlCJCfKM.js";import{r as qe}from"./jsx-runtime-Bw5QeaCk.js";import{a as z}from"./index-C66dI-3g.js";var N={exports:{}},A={exports:{}},ue;function Pe(){return ue||(ue=1,function(I,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useIntersection",{enumerable:!0,get:function(){return E}});const d=z(),C=he(),o=typeof IntersectionObserver=="function",r=new Map,c=[];function _(s){const u={root:s.root||null,margin:s.rootMargin||""},M=c.find(b=>b.root===u.root&&b.margin===u.margin);let f;if(M&&(f=r.get(M),f))return f;const y=new Map,p=new IntersectionObserver(b=>{b.forEach(v=>{const L=y.get(v.target),U=v.isIntersecting||v.intersectionRatio>0;L&&U&&L(U)})},s);return f={id:u,observer:p,elements:y},c.push(u),r.set(u,f),f}function O(s,u,M){const{id:f,observer:y,elements:p}=_(M);return p.set(s,u),y.observe(s),function(){if(p.delete(s),y.unobserve(s),p.size===0){y.disconnect(),r.delete(f);const v=c.findIndex(L=>L.root===f.root&&L.margin===f.margin);v>-1&&c.splice(v,1)}}}function E(s){let{rootRef:u,rootMargin:M,disabled:f}=s;const y=f||!o,[p,b]=(0,d.useState)(!1),v=(0,d.useRef)(null),L=(0,d.useCallback)(j=>{v.current=j},[]);(0,d.useEffect)(()=>{if(o){if(y||p)return;const j=v.current;if(j&&j.tagName)return O(j,n=>n&&b(n),{root:u==null?void 0:u.current,rootMargin:M})}else if(!p){const j=(0,C.requestIdleCallback)(()=>b(!0));return()=>(0,C.cancelIdleCallback)(j)}},[y,M,u,p,v.current]);const U=(0,d.useCallback)(()=>{b(!1)},[]);return[L,p,U]}(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),I.exports=e.default)}(A,A.exports)),A.exports}var K={exports:{}},ie;function Ce(){return ie||(ie=1,function(I,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getDomainLocale",{enumerable:!0,get:function(){return d}}),ve();function d(C,o,r,c){return!1}(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),I.exports=e.default)}(K,K.exports)),K.exports}var F={exports:{}},le;function je(){return le||(le=1,function(I,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useMergedRef",{enumerable:!0,get:function(){return C}});const d=z();function C(r,c){const _=(0,d.useRef)(null),O=(0,d.useRef)(null);return(0,d.useCallback)(E=>{if(E===null){const s=_.current;s&&(_.current=null,s());const u=O.current;u&&(O.current=null,u())}else r&&(_.current=o(r,E)),c&&(O.current=o(c,E))},[r,c])}function o(r,c){if(typeof r=="function"){const _=r(c);return typeof _=="function"?_:()=>r(null)}else return r.current=c,()=>{r.current=null}}(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),I.exports=e.default)}(F,F.exports)),F.exports}var ce;function Ie(){return ce||(ce=1,function(I,e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return G}});const d=ye(),C=qe(),o=d._(z()),r=me(),c=ge(),_=_e(),O=Re(),E=ke(),s=Me(),u=Pe(),M=Ce(),f=Le(),y=je(),p=new Set;function b(n,R,m,a){if(!(typeof window>"u")&&(0,c.isLocalURL)(R)){if(!a.bypassPrefetchedCheck){const q=typeof a.locale<"u"?a.locale:"locale"in n?n.locale:void 0,k=R+"%"+m+"%"+q;if(p.has(k))return;p.add(k)}n.prefetch(R,m,a).catch(q=>{})}}function v(n){const m=n.currentTarget.getAttribute("target");return m&&m!=="_self"||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.nativeEvent&&n.nativeEvent.which===2}function L(n,R,m,a,q,k,S,V){const{nodeName:B}=n.currentTarget;if(B.toUpperCase()==="A"&&(v(n)||!(0,c.isLocalURL)(m)))return;n.preventDefault(),(()=>{const w=S??!0;"beforePopState"in R?R[q?"replace":"push"](m,a,{shallow:k,locale:V,scroll:w}):R[q?"replace":"push"](a||m,{scroll:w})})()}function U(n){return typeof n=="string"?n:(0,_.formatUrl)(n)}const G=o.default.forwardRef(function(R,m){let a;const{href:q,as:k,children:S,prefetch:V=null,passHref:B,replace:J,shallow:W,scroll:w,locale:D,onClick:Q,onMouseEnter:X,onTouchStart:Y,legacyBehavior:g=!1,...ae}=R;a=S,g&&(typeof a=="string"||typeof a=="number")&&(a=(0,C.jsx)("a",{children:a}));const t=o.default.useContext(s.RouterContext),Z=V!==!1,{href:P,as:h}=o.default.useMemo(()=>{if(!t){const oe=U(q);return{href:oe,as:k?U(k):oe}}const[l,T]=(0,r.resolveHref)(t,q,!0);return{href:l,as:k?(0,r.resolveHref)(t,k):T||l}},[t,q,k]),x=o.default.useRef(P),ee=o.default.useRef(h);let i;g&&(i=o.default.Children.only(a));const fe=g?i&&typeof i=="object"&&i.ref:m,[te,ne,re]=(0,u.useIntersection)({rootMargin:"200px"}),de=o.default.useCallback(l=>{(ee.current!==h||x.current!==P)&&(re(),ee.current=h,x.current=P),te(l)},[h,P,re,te]),pe=(0,y.useMergedRef)(de,fe);o.default.useEffect(()=>{t&&(!ne||!Z||b(t,P,h,{locale:D}))},[h,P,ne,D,Z,t==null?void 0:t.locale,t]);const H={ref:pe,onClick(l){!g&&typeof Q=="function"&&Q(l),g&&i.props&&typeof i.props.onClick=="function"&&i.props.onClick(l),t&&(l.defaultPrevented||L(l,t,P,h,J,W,w,D))},onMouseEnter(l){!g&&typeof X=="function"&&X(l),g&&i.props&&typeof i.props.onMouseEnter=="function"&&i.props.onMouseEnter(l),t&&b(t,P,h,{locale:D,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:function(T){!g&&typeof Y=="function"&&Y(T),g&&i.props&&typeof i.props.onTouchStart=="function"&&i.props.onTouchStart(T),t&&b(t,P,h,{locale:D,priority:!0,bypassPrefetchedCheck:!0})}};if((0,O.isAbsoluteUrl)(h))H.href=h;else if(!g||B||i.type==="a"&&!("href"in i.props)){const l=typeof D<"u"?D:t==null?void 0:t.locale,T=(t==null?void 0:t.isLocaleDomain)&&(0,M.getDomainLocale)(h,l,t==null?void 0:t.locales,t==null?void 0:t.domainLocales);H.href=T||(0,f.addBasePath)((0,E.addLocale)(h,l,t==null?void 0:t.defaultLocale))}return g?o.default.cloneElement(i,H):(0,C.jsx)("a",{...ae,...H,children:a})});(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),I.exports=e.default)}(N,N.exports)),N.exports}var $,se;function Oe(){return se||(se=1,$=Ie()),$}var Ee=Oe();const we=be(Ee);export{we as L};
